#!/bin/bash

# 작성날짜 : 2022년 6월 8일 
# 작성자 : 우은지
# 동작방식 : suid, sgid, sticky bit 설정 파일을 점검 확인하기 위한 코드
# -> suid, sgid가 허용된 파일들을 출력시켜 확인하기 위한 코드이다.

# user 옵션 =  지정한 사용자의 파일이나 디렉토리를 찾음, 여기선 root
# type 옵션 = 지정한 파일 유형만 찾음, f는 일반 파일 의미
# perm 옵션은 권한 의미, perm -4000 = suid, perm -2000 = sgid, 에러 메시지들은 /dev/null로 버림 (2> 를 이용한 리다이렉션)
find  / -user root -type f \( -perm -4000 -o -perm -2000 \) -exec ls -lg {} \; 2>/dev/null >> u14.log 
