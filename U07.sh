#!/bin/bash

# 작성날짜 : 2022년 6월 8일 
# 작성자 : 우은지
# 동작방식 : 파일 및 디렉터리 소유자 설정을 확인하기 위한 코드 
# -> find 명령 이용해서 소유자나 그룹이 없는 파일이 존재할 경우 unsafe, 존재하지 않을 경우 safe로 판단

# 루트 디렉토리부터 find하고, nouser 또는 nogroup인 걸 출력하고, 에러난 거 (2)는 dev/null에 버림
if [ "`find / -nouser -o -nogroup -print 2>/dev/null`" == "" ]; then
    echo "no files and directories which no owner or group" >> u07.log
    echo -e "[safe]\n\n" >> u07.log

else 
    echo "There are files and directories which no owner or group" >> u07.log
    echo -e "[unsafe]\n\n" >> u07.log

fi